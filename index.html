<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arena Progress Tracker</title>
  <link id="css" rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="container">
    <header class="header">
      <h1>Arena Progress Tracker</h1>
      <nav class="filters" id="filters" hidden>
        <button data-filter="all" class="active">All</button>
        <button data-filter="top3">Top 3</button>
        <button data-filter="firsts">1st place</button>
        <button data-filter="inprogress">Left for Arena God</button>
      </nav>
    </header>

    <form id="search-form" class="search">
      <input id="riotid" placeholder="Riot ID (e.g., Renas#CHEGA)" required />
      <button type="submit">Search</button>
    </form>

    <section id="status"></section>

    <!-- KPIs -->
    <section id="summary" class="card summary"></section>

    <!-- Paging actions -->
    <section id="actions" class="actions" hidden>
      <button id="load-more">Load next 200</button>
      <button id="load-all" class="ghost">Load all (slow)</button>
    </section>

    <!-- Visuals -->
    <section id="viz" class="grid-2" hidden>
      <div class="card" id="placement-card">
        <div class="section-title">
          <strong>Placements</strong><span class="small">1→8</span>
        </div>
        <div id="placement-chart" class="bars"></div>
      </div>

      <div class="card" id="first-card">
        <div class="section-title">
          <strong>First-place champions</strong><span class="small"><span id="first-count">0</span> / 60</span>
        </div>
        <div id="first-champs" class="champ-grid"></div>
      </div>
    </section>

    <section id="hardest" class="card" hidden></section>

    <!-- Matches -->
    <section id="matches" class="grid"></section>

    <!-- Match details modal -->
    <div id="overlay" class="overlay" hidden>
      <div class="modal">
        <button class="close" id="close-modal" aria-label="Close">×</button>
        <div id="modal-body" class="modal-body"></div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <small>Powered by Riot Games API, icons by Data Dragon. Made by @renas2g</small>
  </footer>

  <script type="module">
    // bump cache-busting automatically
    const ver = new Date(document.lastModified).getTime();
    document.getElementById('css').href = `styles.css?v=${ver}`;
    import(`./app.js?v=${ver}`);
  </script>
</body>
</html>
